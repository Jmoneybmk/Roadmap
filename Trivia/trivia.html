<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BD ‚Äî Trivia Mode</title>
  <link rel="stylesheet" href="trivia_styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <a class="back" href="../index.html" title="Back to Main Menu">‚Üê Main Menu</a>
      <div class="brand">
        <div class="logo">BD</div>
        <div class="titles">
          <div class="title">Trivia Mode</div>
          <div class="subtitle">Questions ‚Ä¢ Voting ‚Ä¢ Reveal ‚Ä¢ Tiebreaker</div>
        </div>
      </div>
    </div>

    <div class="topbar-right">
      <div class="pill">Phase: <b><span id="pillPhase">Lobby</span></b></div>
      <div class="pill">Round: <b><span id="pillRound">0/0</span></b></div>
      <div class="pill">Pack: <b><span id="pillPack">‚Äî</span></b></div>
    </div>
  </header>

  <main class="layout">
    <!-- LEFT: QUESTION BOARD (Stream-safe) -->
    <section class="panel">
      <div class="panel-header">
        <div>
          <h2>Question Board</h2>
          <p class="muted small">Stream-safe side</p>
        </div>
        <div class="panel-actions">
          <div class="pill" id="questionStatus">Waiting‚Ä¶</div>
        </div>
      </div>

      <div class="panel-body">
        <div class="question-wrap">
          <div class="question-text" id="qText">Open <b>Lobby Setup</b> to begin.</div>
          <div class="question-meta">
            <div class="question-source" id="qSource">Source: ‚Äî</div>
          </div>
        </div>

        <div class="modifier-banner hidden" id="modBanner">
          <div class="modifier-tag">MODIFIER</div>
          <div class="modifier-text" id="modText">‚Äî</div>
        </div>

        <div class="section-split"></div>

        <div class="answers-grid" id="answersGrid">
          <!-- Answer cards generated here -->
        </div>

        <div class="reveal-box hidden" id="revealBox">
          <div class="reveal-title">‚úì Correct Answer</div>
          <div class="reveal-answer" id="revealAnswer">‚Äî</div>
        </div>

        <div class="winner-box hidden" id="winnerBox">
          <div class="winner-icon">üèÜ</div>
          <div class="winner-title">Winner</div>
          <div class="winner-name" id="winnerName">‚Äî</div>
        </div>
      </div>
    </section>

    <!-- RIGHT: HOST CONTROLS -->
    <aside class="panel">
      <div class="panel-header">
        <div>
          <h2>Host Controls</h2>
          <p class="muted small">Manage voting and scoring</p>
        </div>
      </div>

      <div class="panel-body">
        <div class="btn-row">
          <button class="btn primary" id="btnLobby">Lobby Setup</button>
          <button class="btn warning" id="btnRevealMod">Reveal Modifier</button>
          <button class="btn" id="btnLockVotes">Lock Votes</button>
        </div>
        <div class="btn-row" style="margin-top:10px;">
          <button class="btn primary" id="btnRevealAnswer">Reveal Answer</button>
          <button class="btn" id="btnNextQuestion">Next Question</button>
          <button class="btn danger" id="btnRestart">Restart Game</button>
        </div>

        <div class="hint" id="hintBox" style="margin-top:12px;">
          Click <b>Lobby Setup</b> to configure players and start.
        </div>

        <div class="section-split"></div>

        <h3 class="section-title">Player Votes</h3>
        <p class="muted small" id="voteHint">Select each player's answer choice.</p>
        <div class="vote-grid" id="voteGrid">
          <!-- Vote rows generated here -->
        </div>

        <div class="section-split"></div>

        <h3 class="section-title">Scoreboard</h3>
        <div class="score-list" id="scoreList">
          <!-- Score items generated here -->
        </div>
      </div>
    </aside>
  </main>

  <!-- LOBBY MODAL (Auto-opens on page load) -->
  <div class="modal-backdrop" id="lobbyBackdrop">
    <div class="modal">
      <div class="modal-head">
        <div>
          <div class="modal-title">Lobby Setup</div>
          <p class="muted small">Choose pack, players, questions, and modifier settings.</p>
        </div>
        <button class="btn" id="btnCloseLobby">Close</button>
      </div>

      <div class="modal-body">
        <div class="form-row">
          <label class="field">
            <span class="label">Pack</span>
            <select id="packSelect" class="select"></select>
          </label>
          <label class="field">
            <span class="label">Players (2‚Äì8)</span>
            <select id="playerCount" class="select">
              <option>2</option><option>3</option><option selected>4</option>
              <option>5</option><option>6</option><option>7</option><option>8</option>
            </select>
          </label>
          <label class="field">
            <span class="label">Total Questions</span>
            <input id="questionCount" type="number" class="input" min="1" max="100" value="10" />
          </label>
        </div>

        <div class="form-row">
          <label class="field">
            <span class="label">Modifiers</span>
            <select id="modsToggle" class="select">
              <option value="on" selected>Enabled (Host reveals when ready)</option>
              <option value="off">Disabled</option>
            </select>
          </label>
        </div>

        <div class="section-split"></div>

        <div class="names-grid" id="lobbyNames">
          <!-- Player name fields generated here -->
        </div>
      </div>

      <div class="modal-foot">
        <p class="muted small">Tip: You can adjust scores manually during the game.</p>
        <button class="btn primary" id="btnStartGame">Start Trivia Mode</button>
      </div>
    </div>
  </div>

  <script src="trivia_data.js"></script>
  <script src="trivia_app.js"></script>
</body>
</html>
